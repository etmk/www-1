"use strict";!function(){function e(){v+=.25*((j=y-v)-L),x+=.25*((b=g-x)-L),w.style.left=Math.round(v)+"px",w.style.top=Math.round(x)+"px",requestAnimationFrame(e)}console.log("%c Made with ❤︎️ by Studio MOTIO — https://www.studiomotio.com","background:#000;color:#fff;padding:0.5em 1em;line-height:2;");let t={small:window.innerWidth<640,medium:window.innerWidth>=640&&window.innerWidth<1024,large:window.innerWidth>=1024};window.motio={};const n={base:"#000",vibrant:"#00ffd3",contrast:"#fff",bright:"#5f5f5f",warning:"#f6cc00",cloud:"#dadce0"},o=mojs.easing.path("M0, -100 C0, -100 100, 0 100, 0"),a=mojs.easing.path("M0,100 C50,100 50,67.578125 50,50 C50,32.421875 50,0 100,0");let s=document.querySelector("body");Barba.Prefetch.init(),Barba.Pjax.getTransition=function(){return Barba.BaseTransition.extend({start:function(){Promise.all([this.newContainerLoading,this.onLeave()]).then(this.onEnter.bind(this))},onLeave:function(){return new Promise(function(e,t){w.classList.remove("link"),new mojs.Shape({className:"dot-transition",shape:"circle",left:0,top:0,x:motio.dotEventX,y:motio.dotEventY,radius:{0:motio.dotRadius},fill:n[motio.dotColor],duration:1700,easing:mojs.easing.expo.inout,isForce3d:!0,onComplete:function(){e()}}).play()})},onEnter:function(){let e=this,t=document.querySelector(".dot-transition");t.parentNode.removeChild(t),new Promise(function(t,n){window.scrollTo(0,0),t(),e.done()})}})},Barba.BaseView.extend({namespace:"studio",onEnter:function(){const e={interval:100,playstate:!1,strokeWidth:65.502,duration:800,easing:a,isForce3d:!0};motio.motioTween={"vertical letter-m":(new mojs.Timeline).add(new mojs.Html(mojs.helpers.extend({el:".shape-letter-m-arc1",strokeDasharray:466.61,strokeDashoffset:{[-466.61]:0}},e)),new mojs.Html(mojs.helpers.extend({el:".shape-letter-m-arc2",strokeDasharray:466.61,strokeDashoffset:{[-466.61]:0},delay:e.interval},e)),new mojs.Html(mojs.helpers.extend({el:".shape-letter-m-vertical",strokeDasharray:248.51,strokeDashoffset:{248.51:0},delay:2*e.interval},e))),"vertical letter-o":new mojs.Html(mojs.helpers.extend({el:".shape-letter-o",transformOrigin:"244px 126px",strokeDasharray:438.81,strokeDashoffset:{[-438.81]:0},angleZ:{[-180]:0}},e)),"vertical letter-t":(new mojs.Timeline).add(new mojs.Html(mojs.helpers.extend({el:".shape-letter-t-horizontal",strokeDasharray:170.878,strokeDashoffset:{[-170.878]:0},strokeWidth:60.262,delay:e.interval},e)),new mojs.Html(mojs.helpers.extend({el:".shape-letter-t-vertical",strokeDasharray:360.33,strokeDashoffset:{[-360.33]:0}},e))),"vertical letter-i":(new mojs.Timeline).add(new mojs.Html(mojs.helpers.extend({el:".shape-letter-i-vertical",strokeDasharray:128.45,strokeDashoffset:{128.45:0},strokeWidth:68.777,delay:200},e)),new mojs.Html(mojs.helpers.extend({el:".shape-letter-i-dot",fill:n.vibrant,transformOrigin:"40px 40px",scale:{0:1}},e))),"vertical letter-o-last":new mojs.Html(mojs.helpers.extend({el:".shape-letter-o-last",transformOrigin:"244px 126px",strokeDasharray:438.79,strokeDashoffset:{438.79:0},angleZ:{180:0}},e))}}}).init(),Barba.BaseView.extend({namespace:"contact",onEnter:function(){const e=document.querySelector("form");e.addEventListener("submit",function(t){t.preventDefault();const n=document.querySelector("textarea"),o=document.querySelector("button");if(!/(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/.test(n.value))return e.classList.add("state","nomail"),o.blur(),void setTimeout(function(){e.className=""},2200);n.setAttribute("disabled","disabled"),e.classList.add("state","pending"),o.blur();const a=new XMLHttpRequest;a.open("POST","/javascript/asynchronous/message.php"),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.addEventListener("readystatechange",function(){a.readyState===XMLHttpRequest.DONE&&200===a.status&&("posted"==a.responseText?(e.classList.remove("pending"),e.classList.add("state","delivered"),setTimeout(function(){e.className="",n.removeAttribute("disabled"),n.value=""},3200)):(e.classList.remove("pending"),e.classList.add("undelivered"),setTimeout(function(){e.className="",n.removeAttribute("disabled")},3200)))}),a.send("message="+document.querySelector("textarea").value)})},onEnterCompleted:function(){let e=document.querySelector(".type"),t=e.innerText.split(",");e.innerText="",new TypeIt(".type",{autoStart:!1,startDelay:500,cursor:!1,speed:70,callback:function(){const e=document.querySelector("textarea");0==window.scrollY&&(e.focus(),e.setSelectionRange(0,0))}}).type(t[0]+",").pause(500).type(t[1])}}).init(),Barba.BaseView.extend({namespace:"404",onEnter:function(){const e={parent:".illustration-404",shape:"zigzag",count:2,radiusX:7,radiusY:5,angle:180,scale:"rand(0.5, 1)",opacity:{0:1},fill:"transparent",stroke:n.base,strokeWidth:"rand(1, 1.5)",strokeLinecap:"round",x:"rand(0, 140)",y:"rand(-60, -10)",duration:"rand(500, 1500)",delay:"rand(0, 400)",isForce3d:!0};for(let t=0;t<Math.floor(5*Math.random()+2);t++)new mojs.Shape(e).then({radiusY:{5:2},origin:{"50% 50%":"50% 20%"},easing:mojs.easing.sin.inout,speed:"rand(0.3, 0.4)",delay:0,isYoyo:!0,repeat:999}).play();mojs.addShape("wind",class extends mojs.CustomShape{getShape(){return'<path d="M14.798 70.488c9.153.405 19.657-4.285 27.707-8.416 10.015-5.139 22.439-12.05 27.156-22.866 6.19-14.195-14.828-10.743-6.568-.406 6.633 8.301 19.062-.819 22.108-7.998"/>'}getLength(){return 118.114}}),new mojs.Shape({parent:".illustration-404",shape:"wind",left:"rand(10%, 90%)",top:"rand(20%, 60%)",fill:"transparent",stroke:n.cloud,strokeWidth:{2:"rand(0.5, 1)"},strokeDasharray:"40% 140%",strokeDashoffset:{"50%":"-140%"},opacity:{1:0},scale:"rand(0.5, 1)",easing:mojs.easing.quint.out,duration:"rand(3000, 4000)",delay:"rand(1000, 2000)",isForce3d:!0,onComplete:function(){null!=document.querySelector(".illustration-404")?this.generate().replay():this.stop()}}).play()}}).init(),Barba.Pjax.start(),Barba.Dispatcher.on("initStateChange",function(){"function"==typeof ga&&ga("send","pageview",location.pathname)}),Barba.Dispatcher.on("linkClicked",function(e,t){motio.dotColor=e.getAttribute("data-dot")||"base",motio.dotEventX=t.pageX,motio.dotEventY=t.pageY;let n=t.clientX<=.5*window.innerWidth?window.innerWidth-t.clientX:t.clientX,o=t.clientY<=.5*window.innerHeight?window.innerHeight-t.clientY:t.clientY;motio.dotRadius=Math.sqrt(n*n+o*o)+20}),Barba.Dispatcher.on("newPageReady",function(e,t,n,o){s.setAttribute("data-page",e.namespace)}),Barba.Dispatcher.on("transitionCompleted",function(e,t){emergence.engage(),motio.bindDotCursor(!0),motio.bindLogos(!0)}),emergence.init({elemCushion:1,offsetTop:t.small?90:70,offsetBottom:t.small?-700:0,throttle:100,callback:function(e,n){if(!t.small&&void 0!==motio.motioTween&&void 0!==motio.motioTween[e.className]){const t=motio.motioTween[e.className];"visible"!=n||t._props.playstate||(t._props.playstate=!0,t.play()),"reset"==n&&t._props.playstate&&(t._props.playstate=!1,t.playBackward())}}});const r={parent:document.querySelector(".menu-button-close"),fill:"transparent",stroke:n.contrast,strokeWidth:{4:0},duration:700,isForce3d:!0};let i=new mojs.Shape(mojs.helpers.extend({shape:"circle",radius:{0:30},opacity:{1:0,curve:o}},r)),l=new mojs.Shape(mojs.helpers.extend({shape:"cross",angle:45,radius:{0:20},strokeWidth:4,easing:mojs.easing.circ.out,duration:1400,delay:200},r)),d=new(mojs.stagger(mojs.Shape))(mojs.helpers.extend({shape:"circle",radius:[{0:10},{0:6},{0:4}],quantifier:3,x:["rand(-30px, -20px)","rand(5px, 10px)","rand(15px, 30px)"],y:["rand(-20px, -40px)","rand(30px, 40px)","rand(-10px, -20px)"],opacity:{1:0,curve:o},stroke:n.vibrant,delay:"stagger(500, 150)"},r)),c=new mojs.Burst({degree:20,radius:{0:90},parent:r.parent,children:mojs.helpers.extend({shape:"circle",swirlSize:10,swirlFrequency:"rand(5, 7)",pathScale:"rand(0.3, 1)",degreeShift:10,isSwirl:!0,radius:{"rand(6, 8)":0},fill:[n.contrast,n.vibrant],stroke:"transparent",delay:100,duration:600,easing:mojs.easing.cubic.in},r)}),m=new mojs.Timeline({delay:1200});m.add(i,l,d),document.querySelector(".menu-button").addEventListener("click",function(){d.generate(),m.play()}),r.parent.addEventListener("click",function(){l.then({radius:0,duration:500,delay:0}).play(),i.play(),c.generate().play()}),(motio.bindLogos=function(e){Array.from(document.querySelectorAll(void 0!==e?"footer .logo":".logo")).forEach(function(e){const t=e.querySelector(".motion-letter"),n=t.getTotalLength(),o={playstate:!1,el:t,strokeDasharray:n,transformOrigin:"109.2px 13.2px",duration:700,easing:a};let s=new mojs.Html(mojs.helpers.extend({strokeDashoffset:{[-n]:0},angleZ:{90:360}},o)),r=new mojs.Html(mojs.helpers.extend({strokeDashoffset:{0:n},angleZ:{0:180},onComplete:function(){this.el.style.strokeDashoffset=-n,this._props.playstate=!1,s.play()}},o));e.addEventListener("mouseenter",function(){r._props.playstate=!0,r.play()}),e.addEventListener("mouseleave",function(){1==r._props.playstate&&r.playBackward()})})})();let u,p=0,h=!1;window.addEventListener("scroll",function(){p=window.scrollY,window.cancelAnimationFrame(u),u=window.requestAnimationFrame(function(){Math.floor(p/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100)>=(t.small?100:97)?h||(document.querySelector("footer").classList.add("show"),h=!0,setTimeout(()=>{document.querySelector("footer .logo").dispatchEvent(new Event("mouseenter"))},500)):h&&(document.querySelector("footer").classList.remove("show"),h=!1)})});let f;window.addEventListener("resize",function(e){clearTimeout(f),f=setTimeout(function(){t={small:window.innerWidth<640,medium:window.innerWidth>=640&&window.innerWidth<1024,large:window.innerWidth>=1024}},250)});let w=document.querySelector(".dot"),y=w.offsetLeft,g=w.offsetTop,v=y,x=g,j=0,b=0,k=!1,L=w.clientWidth/2;document.addEventListener("mousemove",function(e){k||(w.classList.add("init"),k=!0),y=e.clientX,g=e.clientY}),document.addEventListener("mousedown",function(){w.classList.add("down")}),document.addEventListener("mouseup",function(e){w.classList.remove("down");let t=w.classList.contains("support")?n.base:n.contrast;new mojs.Shape({className:"dot-pulse",shape:"circle",left:0,top:0,x:e.pageX,y:e.pageY,radius:{6:40},fill:t,opacity:{.35:0},duration:500,isForce3d:!0,onComplete:function(){this.el.parentNode.removeChild(this.el)}}).play()}),e(),(motio.bindDotCursor=function(e){w.classList.remove("link"),Array.from(document.querySelectorAll(void 0!==e?"main a, main .button":"a, .button")).forEach(function(e){e.addEventListener("mouseenter",function(){w.classList.add("link")}),e.addEventListener("mouseleave",function(){w.classList.remove("link")}),e.addEventListener("click",function(e){this.href==window.location.href&&(e.preventDefault(),w.classList.remove("link"),setTimeout(function(){window.scroll({top:0,left:0,behavior:"smooth"})},500))})}),Array.from(document.querySelectorAll("section.white, footer.white")).forEach(function(e){e.addEventListener("mouseenter",function(){w.classList.add("support")}),e.addEventListener("mouseleave",function(){w.classList.remove("support")})})})()}();